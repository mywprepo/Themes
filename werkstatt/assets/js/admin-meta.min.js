jQuery(document).ready(function(a){function e(t){a.ajax({method:"POST",url:ocdi.ajax_url,data:t,contentType:!1,processData:!1}).done(function(a){if(void 0!==a.status&&"newAJAX"===a.status)e(t);else if(void 0!==a.status&&"afterAllImportAJAX"===a.status){var o=new FormData;o.append("action","ocdi_after_import_data"),o.append("security",ocdi.ajax_nonce),e(o)}else location.reload()})}a(".thb-register:not(.disabled)").on("click",function(e){var t=a(this),o=a("#thb_product_key").val();return a.ajax({method:"GET",url:t.data("verify"),data:{product_key:o,domain:t.data("domain")},beforeSend:function(){t.addClass("disabled")},error:function(e){if(t.removeClass("disabled"),e){var o=a.parseJSON(e.responseText);o.error_message&&a("#thb_error_messages").html("<p>"+o.error_message+"</p>")}},success:function(e){a.ajax(ajaxurl,{method:"POST",data:{action:"thb_update_options",key:o,expired:0},success:function(){location.reload()}})}}),!1}),a(".thb-delete-key").on("click",function(e){a(this);return a.ajax(ajaxurl,{method:"POST",data:{action:"thb_update_options",key:"",expired:0},success:function(){location.reload()}}),!1});var t=new FormData;t.append("action","ocdi_import_demo_data"),t.append("security",ocdi.ajax_nonce),a(".thb-load-demo:not(.disabled)").on("click",function(o){var d=a(this),n=d.parents(".theme"),i=d.data("demo");n.addClass("loading"),a(".thb-load-demo").addClass("disabled").attr("disabled","disabled").unbind("click"),t.append("selected",i),e(t),o.preventDefault()})});